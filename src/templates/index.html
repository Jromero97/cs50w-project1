{% extends "base.html" %}

{% block content %}
    <div class="pt-5">
    <div class="card shadow">
        <div class="card-body">
            <h2 class="mb-3">Welcome, {{ user }}</h2>
    <form action="/search" method="GET">
        <div class="form-group">
            <input type="text" class="form-control rounded-pill" name="book" autofocus aria-describedby="search" placeholder="ISBN, Title or Author">
            <small id="bookSearch" class="form-text text-muted">Example: 03755082325, Predator or Veronica Rossi</small>
        </div>
        <button class="btn btn-primary shadow" type="submit">Search books</button>
    </form>
        </div>
    </div>


    </div>

    <div class="container results-container">
        {% if not books %}
            <div class="py-5">
                <h3>There's no books, yet</h3>
            </div>
        {% endif %}

        {% if books %}
            <div class="py-5">


            <h3>Search Results ({{ books | count }})</h3>

            <div class="container">
                <div class="row">
                    {% for book in books %}
                        <div class="col-12 col-md-3 col-lg-3">
                        <div class="card mb-3 shadow h-100">
                <div class="card-header bg-white">
                    <h3 class="card-title">{{ book.title }}</h3>
                </div>
                <div class="card-body">
                    <p class="card-title"><b>Author: </b>{{ book.author }}</p>
                    <p class="card-text"><b>ISBN:</b> {{ book.isbn }}</p>
                    <p class="card-text"><b>Published:</b> {{ book.year }}</p>
                </div>
                <div class="card-footer">
                    <a href="/book/{{book.isbn}}" class="btn btn-primary">Go to book details</a>
                </div>
            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            </div>
        {% endif %}


    </div>

{% endblock %}